= CppTest Utility
:toc: macro
:icons: font
:source-highlighter: highlight.js

**CppTest** is a powerful command-line tool for competitive programming. It automates compilation, static analysis, test generation, and stress testing of C++ solutions.

toc::[]

== âœ¨ Features

*   **ğŸ§ª Test Generation:** Automatically compiles `gen.cpp` and generates inputs into `gen_tests/`. Flag `-g` to generate without running.
*   **ğŸ”¥ Stress Testing:** Flag `-S` runs a brute-force comparison.
*   **ğŸ›¡ï¸ Isolation:** By default, tests run in `/tmp`, keeping your project clean.
*   **âœ¨ Auto-Fix:** Flag `-F` automatically fixes formatting and linter errors.
*   **ğŸ§¹ Clean Compile:** Flag `-R` **permanently removes** comments.
*   **ğŸ” Static Analysis:** Integrated `clang-tidy` and `clang-format` checks.
*   **ğŸ¤– Custom Checkers:** Supports `check.cpp`.

== ğŸ“¦ Installation

Copy and paste this one-liner into your terminal to install or update:

[source,bash]
----
rm -rf /tmp/cpptest_inst && git clone --depth=1 https://github.com/MootSasa/CppTest.git /tmp/cpptest_inst && bash /tmp/cpptest_inst/install.sh && rm -rf /tmp/cpptest_inst
----

== ğŸ›  Usage

=== Basic Run
[source,bash]
----
cpptest             # Run all tests in directory
cpptest test_1.in   # Run ONLY this specific test
cpptest -g          # ONLY generate tests (do not run)
----

=== Generator Support (`gen.cpp`)
If `gen.cpp` exists, CppTest compiles it and generates tests into `gen_tests/`.

**Configuration (`tests.cfg`):**
[source,text]
----
# Count  Arg1 Arg2 ...
10       1    100
5        500  1000
----

== ğŸ¤– AI Prompts

Use the prompt below to ask AI to write a generator for you.

.**Copy this to AI:**
[%collapsible]
====
I am solving a competitive programming problem. I need a C++ test generator (`gen.cpp`) and a configuration file (`tests.cfg`) for `CppTest` utility.

**Problem Statement:**
[PASTE PROBLEM HERE]

**Requirements:**
1.  **gen.cpp:**
    *   Must accept command line arguments (`argv`) to control constraints (e.g., N, M, MaxValue).
    *   Must print the test case to `stdout`.
    *   Use `std::mt19937` for randomness.
    *   Ensure generated tests are valid according to the problem statement.

2.  **tests.cfg:**
    *   Format per line: `Count Arg1 Arg2 ...`
    *   Create 5-7 groups of tests with increasing difficulty (Small, Medium, Max Constraints, Edge Cases).

3.  **Output:** Provide code for `gen.cpp` and `tests.cfg`.
====

== ğŸš© Command Line Flags

[cols="1,4", options="header"]
|===
| Flag | Description

| `-a`, `--manual`
| **Manual Tests Only.** Run tests from current directory and `tests/`. Ignore `gen_tests/`.

| `-g`, `--generated`
| **Generated Tests Only.** Run tests from `gen_tests/` only.

| `-G`, `--gen-only`
| **Generate & Exit.** (Was `-g` in older versions). Compile generator, create files, and stop.

| `-S`, `--stress`
| **Stress Mode.** Runs infinite comparison.

| `-R`, `--no-comments`
| **Remove Comments.** **WARNING:** Permanently removes comments from `main.cpp` and exits.

| `-i`, `--in-place`
| Run tests directly in source directory.

| `-F`, `--fix`
| **Auto-Fix.** Applies `clang-format` and `clang-tidy` fixes.

| `-f`, `--fast`
| Skip linters.

| `-K`, `--force-checker`
| **Force Checker.** Fail if `check.cpp` is missing.

| `-k`, `--force-diff`
| **Force Diff.** Force standard `diff`.

| `-n`, `--no-gen`
| **No Generation.** Skip test generation (even if `gen.cpp` exists). Use existing tests in `gen_tests/`.

| `-u`, `--update`
| Self-update.
|===

== ğŸ—‘ Uninstall
To remove the utility:
[source,bash]
----
uncpptest
----
