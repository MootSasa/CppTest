= CppTest Utility
:toc: macro
:icons: font
:source-highlighter: highlight.js

**CppTest** is a powerful command-line tool for competitive programming. It automates compilation, static analysis, test generation, and stress testing of C++ solutions.

toc::[]

== âœ¨ Features

*   **ğŸ“‚ Structured Tests:** Supports storing tests in `tests/` and `gen_tests/` folders.
*   **ğŸ§ª Test Generation:** Automatically compiles `gen.cpp` and generates inputs into `gen_tests/`.
*   **ğŸ”¥ Stress Testing:** Flag `-S` runs a brute-force comparison. Supports custom checkers!
*   **ğŸ›¡ï¸ Isolation:** By default, tests run in `/tmp`, keeping your project clean.
*   **âœ¨ Auto-Fix:** Flag `-F` automatically fixes formatting and linter errors.
*   **ğŸ§¹ Clean Code:** Flag `-R` **permanently removes** comments from your source file.
*   **ğŸ” Static Analysis:** Integrated `clang-tidy` and `clang-format` checks.
*   **ğŸ¤– Custom Checkers:** Supports `check.cpp`.

== ğŸ“¦ Installation

Copy and paste this one-liner into your terminal to install or update:

[source,bash]
----
rm -rf /tmp/cpptest_inst && git clone --depth=1 https://github.com/MootSasa/CppTest.git /tmp/cpptest_inst && bash /tmp/cpptest_inst/install.sh && rm -rf /tmp/cpptest_inst
----

== ğŸ›  Usage

=== Basic Run
[source,bash]
----
cpptest             # Run in current directory
cpptest ./TaskA/    # Run inside folder TaskA
----

=== Test Organization
CppTest looks for `.in` files in three locations:
1.  Current directory
2.  `tests/` directory (Recommended for manual tests)
3.  `gen_tests/` directory (Used for generated tests)

=== Generator Support (`gen.cpp`)
If `gen.cpp` exists, CppTest compiles it and generates tests into the `gen_tests/` folder.

**Configuration (`tests.cfg`):**
Format: `Count Arguments`
[source,text]
----
10 1 100   # 10 tests: ./gen 1 100
----

=== Stress Testing (`-S`)
Requires: `main.cpp`, `fast.cpp`, `gen.cpp`.
Runs infinite loop. Uses `check.cpp` if available.

== ğŸš© Command Line Flags

[cols="1,4", options="header"]
|===
| Flag | Description

| `-S`, `--stress`
| **Stress Mode.** Runs infinite comparison.

| `-R`, `--no-comments`
| **Remove Comments.** **WARNING:** Permanently removes comments from `main.cpp` and exits. No testing is performed.

| `-G`, `--no-gen-config`
| Ignore `tests.cfg`.

| `-i`, `--in-place`
| Run tests directly in source directory.

| `-F`, `--fix`
| **Auto-Fix.** Applies `clang-format` and `clang-tidy` fixes.

| `-f`, `--fast`
| Skip linters.

| `-K`, `--force-checker`
| Force usage of `check.cpp`.

| `-k`, `--force-diff`
| Force standard `diff`.

| `-u`, `--update`
| Self-update.
|===

== âš™ï¸ Custom Checkers
If the problem has multiple correct answers, create `check.cpp`.
CppTest runs: `./checker <input> <your_output> <expected_output>`

*   Return **0**: OK
*   Return **non-zero**: WA
