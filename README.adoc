= CppTest Utility
:toc: macro
:icons: font
:source-highlighter: highlight.js

**CppTest** is a powerful command-line tool for competitive programming. It automates compilation, static analysis, test generation, and stress testing of C++ solutions.

toc::[]

== âœ¨ Features

*   **ğŸ§ª Test Generation:** Automatically compiles `gen.cpp` and generates inputs based on configuration.
*   **ğŸ”¥ Stress Testing:** Flag `-S` runs a brute-force comparison (`main` vs `fast`) on generated tests until it fails. **Supports Custom Checkers!**
*   **ğŸ›¡ï¸ Isolation:** By default, tests run in `/tmp/cpptest/tmp`, keeping your project folder clean.
*   **âœ¨ Auto-Fix:** Flag `-F` automatically fixes formatting and linter errors.
*   **ğŸ§¹ Clean Compile:** Flag `-R` **modifies the source file** by removing all comments (`//`, `/* */`) before testing.
*   **ğŸ” Static Analysis:** Integrated `clang-tidy` and `clang-format` checks.
*   **ğŸ¤– Custom Checkers:** Supports `check.cpp` for problems with multiple correct answers.
*   **ğŸ”„ Self-Update:** Flag `-u` updates the tool to the latest version.

== ğŸ“¦ Installation

Copy and paste this one-liner into your terminal to install or update:

[source,bash]
----
rm -rf /tmp/cpptest_inst && git clone --depth=1 https://github.com/MootSasa/CppTest.git /tmp/cpptest_inst && bash /tmp/cpptest_inst/install.sh && rm -rf /tmp/cpptest_inst
----

== ğŸ›  Usage

=== Basic Run
[source,bash]
----
cpptest             # Run in current directory
cpptest -S          # Run stress testing
cpptest ./TaskA/    # Run inside folder TaskA
----

=== Stress Testing (`-S`)
Requires three files:
1.  `main.cpp` (Your optimized solution)
2.  `fast.cpp` (Brute-force / naive correct solution)
3.  `gen.cpp` (Test generator)

The tool creates a `stress` folder and runs an infinite loop.
*   If `check.cpp` is present, it compares outputs using the checker.
*   Otherwise, it uses standard diff.

== ğŸš© Command Line Flags

[cols="1,4", options="header"]
|===
| Flag | Description

| `-S`, `--stress`
| **Stress Mode.** Runs infinite comparison test between `main` and `fast` using `gen`. Respects `-K` and `-k`.

| `-R`, `--no-comments`
| **Remove Comments.** **WARNING:** Modifies the file! Removes all comments (`//`, `/* */`) from `main.cpp`.

| `-G`, `--no-gen-config`
| Ignore `tests.cfg` and use default generator settings.

| `-F`, `--fix`
| **Auto-Fix.** Applies `clang-format` and `clang-tidy` fixes. **Modifies the file.**

| `-K`, `--force-checker`
| **Force Checker.** Fail if `check.cpp` is missing. Works in Stress Mode too.

| `-k`, `--force-diff`
| **Force Diff.** Ignore `check.cpp` and use standard `diff`.

| `-u`, `--update`
| **Update.** Downloads the latest version from GitHub.
|===

== âš™ï¸ Custom Checkers
If the problem has multiple correct answers, create `check.cpp`.
CppTest runs: `./checker <input> <your_output> <expected_output>`

*   Return **0**: OK
*   Return **non-zero**: WA
